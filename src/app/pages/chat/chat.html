<div class="chat-container">
  <div class="chat-list-container">
    <div class="user-details">
      <h2 class="header-text">UserName</h2>
      <button type="button" class="btn">
        <span class="icon-container">
          <lucide-angular [img]="sendMessage"></lucide-angular>
        </span>
      </button>
    </div>
    <form class="form">
      <span class="icon-container">
        <lucide-angular [img]="search"></lucide-angular>
      </span>
      <input type="text" name="" id="" class="form-control" placeholder="Search" />
    </form>
    <ul class="user-notes-list">
      <li class="note-item"></li>
      <li class="note-item"></li>
      <li class="note-item"></li>
    </ul>
    <h2 class="secondary-text">Messages</h2>
    <ul class="chat-list">
      @for(chat of chatList; track chat.id){
      <li class="chat-item">
        <a class="chat-link" [class]="chat.active ? 'active' : ''">
          <span class="img-container"> </span>
          <h2 class="name">{{ chat.name }}</h2>
          <p class="message">{{ chat.message }}</p>
        </a>
      </li>
      }
    </ul>
  </div>
  <div class="chat-content">
    <header class="chat-header">
      <div class="chat-user">
        <span class="img-container"></span>
        <h2 class="name">Chat User</h2>
        <h4 class="user_name">chatUser</h4>
      </div>
      <div class="chat-user-actions">
        <button type="button" class="">
          <span class="icon-container">
            <lucide-angular [img]="phone"></lucide-angular>
          </span>
        </button>
        <button type="button" class="">
          <span class="icon-container">
            <lucide-angular [img]="video"></lucide-angular>
          </span>
        </button>
        <button type="button" class="">
          <span class="icon-container">
            <lucide-angular [img]="info"></lucide-angular>
          </span>
        </button>
      </div>
    </header>
    <ul class="chat-messages-list" [class]="messageReply ? 'reply-message' : ''" #messageList>
      @for(message of chatMessagesList(); track message.id){
        <app-chat-message-item 
          [message]="message" 
          (emojiAction)="handleEmojiAction($event)" 
          (replyAction)="handleMessageReply($event)"
        />
      }
    </ul>
    <div class="chat-input">
      @if(messageReply){
        <div class="reply-message-details">
          <h2 class="replying-to">
            Replying to <span class="user-name">{{messageReply.name}}</span>
          </h2>
          <p class="reply-message">{{messageReply.message}}</p>
          <button type="button" class="icon-container remove-reply" (click)="removeReplyMessage()">
            <lucide-angular [img]="close"></lucide-angular>
          </button>
        </div>
      }
      <form [formGroup]="chatForm" class="form" (submit)="onChatSend()">
        <span class="icon-container smile">
          <lucide-angular [img]="emoji"></lucide-angular>
        </span>
        <input type="text" name="" id="" placeholder="Message" formControlName="message" #chatInput />
      </form>
    </div>
  </div>
</div>
